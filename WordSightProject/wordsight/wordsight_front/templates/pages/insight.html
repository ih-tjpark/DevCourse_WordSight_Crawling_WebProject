{% extends 'base.html' %}
<!--키워드 분석페이지-->
{% load mathfilters %}
{% block content%}
<section id="keyword-insight" class="w-full max-w-[1080px]">
    <div class="mx-2.5 flex my-10 justify-between gap-2.5">
        <div class="insight-main w-3/4 bg-white p-8 grid rounded-2xl shadow-4xl gap-5">
            <div class="text-2xl font-bold">
                <!--param check-->
                {{ keyword.name }} 단어는 최근 {{ keyword.count|default:0 }}번 언급되었습니다.
            </div>
            <div class="text-xl font-semibold">
                관련분야
            </div>
            <div class="flex flex-row">
                <!--관련 태그 리스트 가져오기-->
                {% for i in "123"|make_list %}
                    <a class="py-1 px-3 h-[30px] rounded-lg bg-active-gray text-white m-1">
                        태그
                    </a>
                {% endfor %}
            </div>
            <div class="text-xl font-semibold">
                관련뉴스
                <br>
                {%for i in news %}
                    <a href="{% url "WORDSIGHT:detail" i.news_id %}" id="news-card" class="w-64 flex flex-col items-stretch gap-1.5 rounded-2xl bg-white py-5 px-5 mx-2 shadow-4xl">
                        <img class="inline rounded-[8px] h-[140px]" src={{i.image_link}} alt=""/>
                        <div class="text-base font-semibold">{{ i.title|default:"제목" }}</div>
                        <div class="text-xs">{{ i.news_agency|default:"언론사" }} | {{ i.reporter|default:"기자" }}</div>
                        <p class="text-xs" style="display: -webkit-box;overflow: hidden;-webkit-line-clamp: 2;-webkit-box-orient: vertical;">{{ i.news_contents|default:"내용" }}</p>
                    </a>
                {%endfor%}
            </div>
            <!--관련뉴스 필터링 쿼리 오브젝트 가져오기-->
            <!--{% for each in news_query %}
                {% include "partial/newsCardVertical.html" with news=each %}
            {% endfor %}
            -->
        </div>
        <div class="insight-wordcloud w-1/4 flex flex-col rounded-2xl shadow-4xl bg-[#FAFAFA] p-5 divide-solid">
            <div class="text-xl font-semibold mb-1.5">
                주요 관련 단어
            </div>
            <!--관련단어 및 점수 리스트 object 가져오기-->
            {% for key, value in relation_keyword.items %}
<<<<<<< HEAD
                <a href="{% url "WORDSIGHT:search" %}?q={{val}}" class="text-{{i}} font-semibold">
                    {{key}} 
                    {{value}}
=======
                <a href="{% url "WORDSIGHT:search" %}?q={{key}}" 
                class="text-[{{value|mul:100|mod:90|mul:4}}px] text-point{{forloop.counter}} font-semibold">
                    {{key}}
>>>>>>> 0325a71cf69aa3e4b4613a8ca6af87c502172085
                </a>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock%}
